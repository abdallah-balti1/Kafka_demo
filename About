from sqlalchemy.orm import joinedload
from src.main.domain.entities.user import User

def get_all_with_pocs(self) -> List[User]:
    return (
        self.db.query(User)
        .options(joinedload(User.user_pocs).joinedload("poc"))  # Make sure User has relationship `user_pocs`
        .all()
    )
