export const assignUserToPoc = async (
  userId: string,
  pocId: string,
  startUsing: string,
  endUsing: string
): Promise<void> => {
  try {
    const response = await axios.get(`/manage/pocs/user/${userId}`);
    
    const payload = {
      userId,
      pocId,
      startUsing,
      endUsing,
    };

    if (response.data?.poc) {
      await axios.put("/manage/user/poc", payload);
    } else {
      await axios.post("/manage/user/poc", payload);
    }
  } catch (error: any) {
    if (error.response?.status === 404) {
      await axios.post("/manage/user/poc", {
        userId,
        pocId,
        startUsing,
        endUsing,
      });
    } else {
      throw error;
    }
  }
};
